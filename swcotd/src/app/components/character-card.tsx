import Image from 'next/image';
import { Character } from '../types/character.type';
import { Planet } from '../types/planet.type';
import { Species } from '../types/species.type';

type CharacterCardProps = { character: Character, id: number, species: Array<Species>, homeworld: Planet };

const genderSymbols: Record<string, string> = {
    'male': '♂',
    'female': '♀',
    'unknown': '',
    'n/a': '',
};

export const CharacterCard = ({ character, id, species, homeworld }: CharacterCardProps) => {
    return (
        <div className="w-full md:w-auto rounded-xl bg-white flex flex-row flex-nowrap items-stretch overflow-hidden">
            <div className="h-[225px] shrink-0">
                <Image src={`/people/${id}.jpg`}
                       width={200}
                       height={225}
                       alt={character.name}
                       priority />
            </div>
            <div className="px-2 py-3 md:px-4 md:py-5 flex flex-col flex-nowrap grow">
                <h1 className="font-normal text-2xl flex justify-between self-center">
                    {character.name}
                </h1>
                <section className="flex gap-2 items-center mb-3 font-light self-center" aria-label="gender and species">
                    <span>{genderSymbols[character.gender]}</span>
                    <span>
                        {species.map(({ name }) => name).join(', ')}
                    </span>
                </section>
                <section className="self-center mb-3 font-light" aria-label="birth">
                    born {character.birth_year === 'unknown' ? '' : character.birth_year} on {homeworld.name}
                </section>
                <section className="flex flex-row flex-nowrap gap-1 self-center mb-3" aria-label="body colors">
                    <svg width="80"
                         height="80"
                         viewBox="0 0 100 100"
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M49.6095 3.125C44.1346 3.125 36.2855 4.85229 31.5431 8.1604C23.047 8.42285 16.4307 15.8142 15.3809 26.3184C14.5753 34.3811 15.3077 38.385 15.7411 40.7715C15.8204 41.1987 15.8875 41.5588 15.9242 41.8762C15.9913 42.4011 16.0462 43.0603 16.089 43.7561C15.1978 43.5303 14.4593 43.5974 13.9283 43.7439C10.2967 44.7144 8.85629 50.2686 10.5714 56.665C11.9019 61.6516 14.7035 65.3137 17.6515 66.1133C22.5343 81.488 34.9061 96.7407 49.6095 96.7407C64.3189 96.7407 76.6847 81.4941 81.5675 66.1133C84.5155 65.3137 87.317 61.6516 88.6536 56.665C89.4105 53.8391 89.5692 51.0132 89.0931 48.7C88.5438 46.0083 87.1949 44.2444 85.2967 43.7378C84.7047 43.5791 83.8624 43.5181 82.8431 43.8477C82.7638 40.1672 82.245 37.0239 81.2562 34.3445C80.8656 33.2886 80.9815 32.9163 80.9754 32.9163C81.4149 32.5684 83.7098 32.8796 85.8888 33.783C86.432 34.0027 87.0423 33.9111 87.4879 33.5388C87.9334 33.1604 88.1348 32.5684 88.0128 32.0068C84.0638 13.9221 70.6422 3.125 52.1241 3.125H49.6095ZM49.6095 6.25H52.1241C68.3839 6.25 79.9683 14.856 84.2835 29.9805C82.4036 29.541 80.1331 29.3945 78.8087 30.6641C77.7161 31.7139 77.5452 33.3191 78.3204 35.4248C79.5411 38.7329 79.9683 42.9199 79.6265 48.2239C79.5716 49.0845 80.2247 49.8291 81.0853 49.884C81.1219 49.884 81.1524 49.884 81.1829 49.884C82.0008 49.884 82.6905 49.2554 82.7393 48.4253C82.7699 48.0408 82.7821 47.6685 82.7943 47.29C82.8858 47.2534 82.9774 47.2351 83.0628 47.1863C83.4657 46.9177 84.0455 46.637 84.491 46.7529C85.1624 46.936 85.7423 47.9004 86.0352 49.3225C86.4076 51.1475 86.2611 53.5278 85.6385 55.8594C84.3629 60.6201 81.7567 63.1531 80.3712 63.1531H80.3651C79.6754 63.1531 79.065 63.6047 78.8636 64.27C74.5301 78.8513 63.0921 93.6157 49.6095 93.6157C36.1329 93.6157 24.6949 78.8513 20.3614 64.27C20.16 63.6047 19.5496 63.1531 18.8599 63.1531H18.8538C17.4683 63.1531 14.8621 60.6201 13.5865 55.8594C12.2437 50.8484 13.3729 47.1252 14.734 46.759C15.1856 46.637 15.7594 46.9238 16.1622 47.1863C16.1683 47.1924 16.1744 47.1863 16.1805 47.1924C16.1744 47.6013 16.1683 47.9736 16.1561 48.2544C16.1195 49.115 16.7848 49.8474 17.6453 49.8901C18.4998 49.9146 19.2384 49.2615 19.2811 48.4009C19.3482 46.9238 19.2872 43.4875 19.0247 41.4795C18.982 41.1133 18.9027 40.6982 18.8172 40.21C18.4083 37.9822 17.7247 34.259 18.4876 26.6357C19.391 17.5903 24.9513 11.2793 32.0619 11.2793C32.3975 11.2793 32.7271 11.1694 33.0018 10.9619C37.085 7.90405 44.6107 6.25 49.6095 6.25ZM49.2982 9.3811C48.4376 9.44824 47.8028 10.199 47.87 11.0596L48.1141 14.0869C48.1751 14.9048 48.8587 15.5212 49.6644 15.5212C49.7071 15.5212 49.7498 15.5212 49.7926 15.5151C50.6532 15.448 51.294 14.6973 51.2269 13.8306L50.9827 10.8154C50.9156 9.95483 50.1771 9.30176 49.2982 9.3811ZM58.075 9.80225C57.2205 9.66187 56.4149 10.2356 56.2745 11.0901L55.7862 14.0747C55.6519 14.9292 56.2257 15.7288 57.0802 15.8691C57.1656 15.8813 57.2511 15.8936 57.3304 15.8936C58.0872 15.8936 58.7464 15.3442 58.8746 14.5752L59.3629 11.5967C59.5033 10.7422 58.9234 9.93652 58.075 9.80225ZM65.8509 12.5244C65.2406 12.5183 64.6607 12.8723 64.4044 13.4644L63.2142 16.2109C62.8724 17.0044 63.2386 17.926 64.0321 18.2617C64.2335 18.3533 64.441 18.396 64.6485 18.396C65.2528 18.396 65.8326 18.042 66.089 17.4561L67.2669 14.7095C67.6148 13.916 67.2486 12.9944 66.4552 12.6526C66.2598 12.5671 66.0523 12.5244 65.8509 12.5244ZM72.7235 17.4316C72.3267 17.4805 71.9483 17.6819 71.6798 18.0237L69.8792 20.343C69.3543 21.0266 69.4764 22.0093 70.16 22.5342C70.4408 22.76 70.7826 22.8638 71.1182 22.8638C71.5821 22.8638 72.046 22.6562 72.3512 22.2595L74.1517 19.9402C74.6827 19.2566 74.5545 18.2739 73.877 17.749C73.5352 17.4805 73.1202 17.3828 72.7235 17.4316ZM33.6976 24.4263C32.245 24.2981 30.7801 24.9695 29.9378 26.2451L25.9095 32.3608C25.4395 33.0811 25.6348 34.0515 26.3612 34.5215C26.6236 34.6985 26.9227 34.7839 27.2157 34.7839C27.7223 34.7839 28.2227 34.5337 28.5218 34.082L32.5501 27.9602C32.8126 27.5696 33.3253 27.417 33.7647 27.6306L37.6893 29.541C44.8182 33.02 52.3621 34.7839 60.1014 34.7839C60.9681 34.7839 61.6639 34.082 61.6639 33.2214C61.6639 32.3547 60.9681 31.6589 60.1014 31.6589C52.8443 31.6589 45.7581 29.9988 39.0626 26.7334L35.1319 24.823C34.6681 24.5972 34.1859 24.469 33.6976 24.4263ZM66.8153 31.6589C65.9486 31.6589 65.2528 32.3608 65.2528 33.2214C65.2528 34.082 65.9486 34.7839 66.8153 34.7839H71.8507C72.7113 34.7839 73.4132 34.082 73.4132 33.2214C73.4132 32.3608 72.7113 31.6589 71.8507 31.6589H66.8153ZM35.9376 46.875C34.2103 46.875 32.8126 48.2727 32.8126 50C32.8126 51.7273 34.2103 53.125 35.9376 53.125C37.6649 53.125 39.0626 51.7273 39.0626 50C39.0626 48.2727 37.6649 46.875 35.9376 46.875ZM65.6251 46.875C63.8978 46.875 62.5001 48.2727 62.5001 50C62.5001 51.7273 63.8978 53.125 65.6251 53.125C67.3524 53.125 68.7501 51.7273 68.7501 50C68.7501 48.2727 67.3524 46.875 65.6251 46.875Z"
                              fill="black" />
                        <line x1="66"
                              y1="24.5"
                              x2="100"
                              y2="24.5"
                              stroke="black" />
                        <line x1="66"
                              y1="49.5"
                              x2="100"
                              y2="49.5"
                              stroke="black" />
                        <line x1="66"
                              y1="74.5"
                              x2="100"
                              y2="74.5"
                              stroke="black" />
                    </svg>
                    <div className="flex flex-col flex-nowrap gap-1 pt-3 leading-4">
                        <span>
                            {character.hair_color}
                        </span>
                        <span>
                            {character.eye_color}
                        </span>
                        <span>
                            {character.skin_color}
                        </span>
                    </div>
                </section>

                <section className="flex flex-row md:gap-3 flex-nowrap w-full mt-auto md:text-lg" aria-label="body specs">
                    <div className="flex flex-row flex-nowrap grow justify-center items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width={28}
                             height={28}
                             viewBox="0 0 24 24">
                            <title>human-male-height</title>
                            <path d="M7,2C8.78,2 9.67,4.16 8.42,5.42C7.16,6.67 5,5.78 5,4A2,2 0 0,1 7,2M5.5,7H8.5A2,2 0 0,1 10.5,9V14.5H9V22H5V14.5H3.5V9A2,2 0 0,1 5.5,7M21,8H15V10H21M21,11H18V13H21M21,2H15V4H21M21,5H18V7H21M21,14H15V16H21M21,20H15V22H21M21,17H18V19H21" />
                        </svg>
                        <span>{character.height}cm</span>
                    </div>
                    <hr className="h-full w-[1px] bg-black" />
                    <div className="flex flex-row flex-nowrap grow justify-center items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width={28}
                             height={28}
                             viewBox="0 0 24 24">
                            <title>weight-kilogram</title>
                            <path d="M12,3A4,4 0 0,1 16,7C16,7.73 15.81,8.41 15.46,9H18C18.95,9 19.75,9.67 19.95,10.56C21.96,18.57 22,18.78 22,19A2,2 0 0,1 20,21H4A2,2 0 0,1 2,19C2,18.78 2.04,18.57 4.05,10.56C4.25,9.67 5.05,9 6,9H8.54C8.19,8.41 8,7.73 8,7A4,4 0 0,1 12,3M12,5A2,2 0 0,0 10,7A2,2 0 0,0 12,9A2,2 0 0,0 14,7A2,2 0 0,0 12,5M6,11V19H8V16.5L9,17.5V19H11V17L9,15L11,13V11H9V12.5L8,13.5V11H6M15,11C13.89,11 13,11.89 13,13V17C13,18.11 13.89,19 15,19H18V14H16V17H15V13H18V11H15Z" />
                        </svg>
                        <span>{character.mass}kg</span>
                    </div>
                </section>
            </div>
        </div>
    );
};
